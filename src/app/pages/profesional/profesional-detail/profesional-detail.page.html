<ion-header no-border>
  <ion-toolbar color="graniente-menu" class="header-img ion-padding-right">
    <ion-buttons slot="start" text="Atrás">
      <ion-back-button color="light" (click)="irAtras()" mode="md"></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end" size="large">
      <ion-button color="light" (click)="(!favorito) ? cambiarFavorito('favorito') : cambiarFavorito('noFavorito')">
        <ion-icon [name]="((favorito) ? 'heart' : 'heart-empty')"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
  <ion-img src="/assets/imgs/pico.png"></ion-img>
  <div>
    <img *ngIf="profesional.foto" src="{{ profesional.foto }}" alt="Imagen Perfil" class="circle-pic">
    <img *ngIf="!profesional.foto" src="/assets/imgs/userDefault.png" alt="Imagen Perfil" class="circle-pic">
    <ion-label class="texto-titulo"><b>{{profesional.nombre}} {{profesional.apellido}} </b></ion-label>
    <ion-label class="texto-subtitulo">{{profesional.servicio}}</ion-label>
  </div>
</ion-header>

<ion-content>

  <ion-row class="ion.padding-top">
    <ion-col>
      <div style="padding-left: 5%; padding-right: 15%;">
        <ion-text color="secondary">
          <h4><b>Hola, </b></h4>
        </ion-text>
        <!--<p style="font-size: 10px;">Soy cantante profesional y animador especializado en eventos, 
                  con gran trayectoria musical y comprometido en ofrece el mejor Servicio 
                  para cualquier ocasión </p>-->
        <p>
          {{ profesional.destreza }}
        </p>
      </div>
    </ion-col>
  </ion-row>
  <ion-row class="ion-text-center">
    <ion-col class="col-border" size="3">Experiencia</ion-col>
    <ion-col class="col-border" size="4">Buconexiones</ion-col>
    <ion-col class="col-border" size="2">Tarifa</ion-col>
    <ion-col class="col-border" size="3">Distancia</ion-col>
  </ion-row>
  <ion-row class="ion-text-center text-style ion-padding-bottom">
    <ion-col class="col-border" size="3"><b>{{ profesional.aniosExperiencia }} años</b></ion-col>
    <ion-col class="col-border" size="4"><b>{{ profesional.odsFinalizadas }}</b></ion-col>
    <ion-col class="col-border" size="2"><b>$ {{ profesional.tarifaMinima }}/h</b></ion-col>
    <ion-col class="col-border" size="3"><b>{{profesional.distancia| number:"1.0-2"}} Km</b></ion-col>
  </ion-row>

  <ion-row *ngIf="idSistema == 2">
    <ion-col size="1"></ion-col>
    <ion-col size="7">
      <p>Cantidad de Profesionales</p>
    </ion-col>
    <ion-col size="4">
      <ion-input type="number" onKeyPress="if(this.value.length==2) return false;" class="roundedInput"
        [(ngModel)]="cantidadProfesionales"></ion-input>
    </ion-col>
  </ion-row>

  <ion-row *ngIf="idSistema == 2" class="ion-padding-bottom">
    <ion-col size="1"></ion-col>
    <ion-col size="7">
      <p>Porcentaje backup (%)</p>
    </ion-col>
    <ion-col size="4">
      <ion-input type="number" onKeyPress="if(this.value.length==2) return false;" class="roundedInput"
        [(ngModel)]="porcentajeBackup"></ion-input>
    </ion-col>
  </ion-row>

  <ion-row class="ion-text-center texto">
    <ion-col size="2">Sel.</ion-col>
    <ion-col size="5">Tarea</ion-col>
    <ion-col size="3">Cant.</ion-col>
    <ion-col size="2">Monto</ion-col>
  </ion-row>

  <div *ngFor="let tarea of tareas; let i = index;">
    <ion-row class="tarea-row">
      <ion-col size="2" style="text-align: center;">
        <ion-checkbox mode="ios" [(ngModel)]="tarea.isChecked" class="check-color" [(value)]="tarea"
          (ionChange)="seleccionaTarea( $event )"></ion-checkbox>
      </ion-col>
      <ion-col size="5">
        <div class="texto-tarea">{{ tarea.nombre }}</div>
      </ion-col>
      <ion-col size="3">
        <ion-input type="number" class="fondo-input" [value]="tarea.cantidad" (ionInput)="actualizaMonto($event, i)">
        </ion-input>
      </ion-col>
      <ion-col size="2">
        <div class="texto-monto">${{ tarea.totalPrecio | number:'1.2-2'}}</div>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="tarea.isChecked && tarea.descripcion" class="shade-text">
      <ion-col size="1"></ion-col>
      <ion-col size="1">
        <ion-icon name="information-circle-outline" mode="ios" style="font-size: 16px; vertical-align: middle;">
        </ion-icon>
      </ion-col>
      <ion-col size="9" class="ion-text-justify">
        {{ tarea.descripcion }}
      </ion-col>
    </ion-row>
  </div>
</ion-content>

<ion-footer lines="none">
  <ion-toolbar color="light">
    <ion-button expand="block" shape="round" color="secondary" class="ion-margin" (click)="solicitarServicio()">
      Solicitar servicio
    </ion-button>
  </ion-toolbar>
</ion-footer>